# DVC Pipeline Architecture Report

## Overview
The Agentic Credit Risk Assessment System (ACRAS) uses **DVC (Data Version Control)** as the core orchestration engine for its MLOps pipeline. This ensures that every experiment is reproducible, traceable, and versioned alongside the code.

## Architecture Diagram

```mermaid
graph TD
    subgraph "Configuration & Parameters"
        params[params.yaml]
        config[config.yaml]
    end

    subgraph "Core Pipeline (dvc.yaml)"
        stage_01[Stage 01: Data Ingestion]
        stage_02[Stage 02: Data Validation]
        stage_03[Stage 03: Data Transformation]
        stage_04[Stage 04: Model Training]
    end

    subgraph "Artifacts & Data"
        raw_data[(Raw Data)]
        split_data[(Split Data: Train/Val/Test)]
        model_artifacts[(Model Artifacts)]
    end

    params --> stage_01
    config --> stage_01
    raw_data --> stage_01
    stage_01 --> split_data
    
    %% Future Stages
    split_data -.-> stage_02
    stage_02 -.-> stage_03
    stage_03 -.-> stage_04
    stage_04 -.-> model_artifacts
```

## Strategy: The Dual-Entry Pattern
To balance production stability with developer velocity, ACRAS implements a **Dual-Entry Orchestration Strategy**:

| Entry Point | Utility | Philosophy |
| :--- | :--- | :--- |
| `uv run dvc repro` | **Production & Reproducibility** | Ensures the DAG (Directed Acyclic Graph) is consistent. Uses caching to skip unchanged stages. |
| `uv run python main.py` | **Development & Debugging** | Forced linear execution. Ideal for IDE breakpoints and rapid logic iteration without DVC overhead. |

## Pipeline Definition (`dvc.yaml`)
Each stage in `dvc.yaml` captures:
*   **Command**: The specific python script to execute.
*   **Dependencies**: Code files and configurations that, if changed, trigger a re-run.
*   **Parameters**: Variables from `params.yaml` that influence the stage.
*   **Outputs**: Directories or files generated by the stage (tracked by DVC).

## Reproduction Guide
To reproduce the current state of the pipeline:

1.  **Pull Data**: `dvc pull` (if remote is configured).
2.  **Run Pipeline**: `uv run dvc repro`.
3.  **Check Status**: `dvc status`.
