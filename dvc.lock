schema: '2.0'
stages:
  data_ingestion:
    cmd: python src/pipeline/stage_01_data_ingestion.py
    deps:
    - path: config/config.yaml
      hash: md5
      md5: 7adfddfdb442542bba30c21684c6a4a3
      size: 1224
    - path: data/raw/financial_statements_training.csv
      hash: md5
      md5: 34a5ddff5dac93845498cc83717b25d3
      size: 260178
    - path: data/raw/financial_statements_validation.csv
      hash: md5
      md5: d65c1e34ea6291df1ce6d313a987d2ed
      size: 29214
    - path: data/raw/pd_training.csv
      hash: md5
      md5: 50848ef02f0f44545e8f97011cceb8bd
      size: 317578
    - path: data/raw/pd_validation.csv
      hash: md5
      md5: cadbbfea9e5cd149d416a806e50a3de3
      size: 36633
    - path: src/components/data_ingestion.py
      hash: md5
      md5: e28079cf07c7129b9df8fa915ac22834
      size: 8984
    - path: src/pipeline/stage_01_data_ingestion.py
      hash: md5
      md5: 54812739af86b78c9426e63ef2ba0f39
      size: 1275
    params:
      config/params.yaml:
        data_split.random_state: 42
        data_split.test_size: 0.15
        data_split.val_size: 0.15
    outs:
    - path: artifacts/data_ingestion/test.csv
      hash: md5
      md5: 94e76f624b88c4829cb52779e3e9b4b6
      size: 32750
    - path: artifacts/data_ingestion/train.csv
      hash: md5
      md5: 470a23cc532fc24e30e0104526a19071
      size: 150639
    - path: artifacts/data_ingestion/val.csv
      hash: md5
      md5: 463a6351316bf32fc0b1b4c5757f9a74
      size: 32324
  data_transformation:
    cmd: python src/pipeline/stage_03_data_transformation.py
    deps:
    - path: artifacts/data_ingestion/test.csv
      hash: md5
      md5: 94e76f624b88c4829cb52779e3e9b4b6
      size: 32750
    - path: artifacts/data_ingestion/train.csv
      hash: md5
      md5: 470a23cc532fc24e30e0104526a19071
      size: 150639
    - path: artifacts/data_ingestion/val.csv
      hash: md5
      md5: 463a6351316bf32fc0b1b4c5757f9a74
      size: 32324
    - path: config/config.yaml
      hash: md5
      md5: 7adfddfdb442542bba30c21684c6a4a3
      size: 1224
    - path: src/components/data_transformation.py
      hash: md5
      md5: 3414e9d36b7cbc557f3721c27664a1c9
      size: 6624
    - path: src/pipeline/stage_03_data_transformation.py
      hash: md5
      md5: 611dd542d809f8e06b9d8f0e0f669903
      size: 1376
    outs:
    - path: artifacts/data_transformation/preprocessor.pkl
      hash: md5
      md5: cb1768646137506395b70e29b3c06f75
      size: 3733
    - path: artifacts/data_transformation/test.csv
      hash: md5
      md5: d7bbf8b693f33c039d40de16718009ba
      size: 32965
    - path: artifacts/data_transformation/train.csv
      hash: md5
      md5: b68b0f6105a546693c0df08bca48c3a1
      size: 151180
    - path: artifacts/data_transformation/val.csv
      hash: md5
      md5: 68785a258a5e97e45055a29a2df7a9f3
      size: 32453
  data_validation:
    cmd: python src/pipeline/stage_02_data_validation.py
    deps:
    - path: artifacts/data_ingestion/train.csv
      hash: md5
      md5: 470a23cc532fc24e30e0104526a19071
      size: 150639
    - path: config/config.yaml
      hash: md5
      md5: 7adfddfdb442542bba30c21684c6a4a3
      size: 1224
    - path: config/schema.yaml
      hash: md5
      md5: f72d47385232fd6ec2fa314d1ec32c3f
      size: 627
    - path: src/pipeline/stage_02_data_validation.py
      hash: md5
      md5: 35edf1c839493f5d52b162f65dbb7013
      size: 1270
    outs:
    - path: artifacts/data_validation/status.txt
      hash: md5
      md5: 86e6a2f694c57a675b3e2da6b95ff9ba
      size: 23
  model_trainer:
    cmd: python src/pipeline/stage_04_model_trainer.py
    deps:
    - path: artifacts/data_transformation/train.csv
      hash: md5
      md5: b68b0f6105a546693c0df08bca48c3a1
      size: 151180
    - path: artifacts/data_transformation/val.csv
      hash: md5
      md5: 68785a258a5e97e45055a29a2df7a9f3
      size: 32453
    - path: config/config.yaml
      hash: md5
      md5: 7adfddfdb442542bba30c21684c6a4a3
      size: 1224
    - path: src/components/model_trainer.py
      hash: md5
      md5: 05b61c8c7fe808c5bf70b59eb10307f3
      size: 2032
    - path: src/pipeline/stage_04_model_trainer.py
      hash: md5
      md5: 9ae9895ae51374fee19c4c8ba3cfb378
      size: 1165
    params:
      config/params.yaml:
        data_split.random_state: 42
        model_params.class_weight: balanced
        model_params.min_samples_leaf: 5
        model_params.n_estimators: 300
        model_params.n_jobs: -1
    outs:
    - path: artifacts/model_trainer/acras_rf_model.joblib
      hash: md5
      md5: 896e1218bdd6ce8acd4181775db1c134
      size: 274809
  model_evaluation:
    cmd: python src/pipeline/stage_05_model_evaluation.py
    deps:
    - path: artifacts/data_transformation/test.csv
      hash: md5
      md5: d7bbf8b693f33c039d40de16718009ba
      size: 32965
    - path: artifacts/model_trainer/acras_rf_model.joblib
      hash: md5
      md5: 896e1218bdd6ce8acd4181775db1c134
      size: 274809
    - path: config/config.yaml
      hash: md5
      md5: 7adfddfdb442542bba30c21684c6a4a3
      size: 1224
    - path: src/components/model_evaluation.py
      hash: md5
      md5: 20b05e4e5f8fd17810a86e18526498db
      size: 8583
    - path: src/pipeline/stage_05_model_evaluation.py
      hash: md5
      md5: b92769d4a6d6d21a1604302eaea1042b
      size: 1484
    params:
      config/params.yaml:
        data_split.random_state: 42
        model_params.class_weight: balanced
        model_params.min_samples_leaf: 5
        model_params.n_estimators: 300
        model_params.n_jobs: -1
    outs:
    - path: artifacts/model_evaluation/metrics.json
      hash: md5
      md5: 13490a93569b016c4fb419b46e217704
      size: 158
