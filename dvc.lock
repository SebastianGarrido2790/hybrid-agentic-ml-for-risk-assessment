schema: '2.0'
stages:
  data_ingestion:
    cmd: python src/pipeline/stage_01_data_ingestion.py
    deps:
    - path: config/config.yaml
      hash: md5
      md5: e149f5d1c5a3d871065093dc62b1d0b7
      size: 1450
    - path: data/processed/financial_statements_training.csv
      hash: md5
      md5: 415fce2361a31d2f4a8ecd81d592e9a1
      size: 269761
    - path: data/processed/financial_statements_validation.csv
      hash: md5
      md5: d03cb4fb5ebf4de8f2206fc7391ffffc
      size: 29038
    - path: data/processed/pd_training.csv
      hash: md5
      md5: 641dd6c2b74d992be4fee1f4599498cf
      size: 324270
    - path: data/processed/pd_validation.csv
      hash: md5
      md5: 02864ae4229b528ee54b2cc762dfd5cb
      size: 35473
    - path: src/components/data_ingestion.py
      hash: md5
      md5: e28079cf07c7129b9df8fa915ac22834
      size: 8984
    - path: src/features/build_features.py
      hash: md5
      md5: 0a22d559e4dab3b12b70fb17787e201d
      size: 2618
    - path: src/pipeline/stage_01_data_ingestion.py
      hash: md5
      md5: 54812739af86b78c9426e63ef2ba0f39
      size: 1275
    params:
      config/params.yaml:
        data_split.random_state: 42
        data_split.test_size: 0.15
        data_split.val_size: 0.15
    outs:
    - path: artifacts/data_ingestion/test.csv
      hash: md5
      md5: bc9bf7c487c15ac967be96655d418442
      size: 32584
    - path: artifacts/data_ingestion/train.csv
      hash: md5
      md5: c0066d1f6daabba01786d9a5a89fd501
      size: 149869
    - path: artifacts/data_ingestion/val.csv
      hash: md5
      md5: 7968cd547e142618d04b3fcc99e572cd
      size: 32160
  data_transformation:
    cmd: python src/pipeline/stage_03_data_transformation.py
    deps:
    - path: artifacts/data_ingestion/test.csv
      hash: md5
      md5: bc9bf7c487c15ac967be96655d418442
      size: 32584
    - path: artifacts/data_ingestion/train.csv
      hash: md5
      md5: c0066d1f6daabba01786d9a5a89fd501
      size: 149869
    - path: artifacts/data_ingestion/val.csv
      hash: md5
      md5: 7968cd547e142618d04b3fcc99e572cd
      size: 32160
    - path: config/config.yaml
      hash: md5
      md5: e149f5d1c5a3d871065093dc62b1d0b7
      size: 1450
    - path: src/components/data_transformation.py
      hash: md5
      md5: b37b62942b6d18dd54ebeb65d90b2489
      size: 6624
    - path: src/pipeline/stage_03_data_transformation.py
      hash: md5
      md5: 611dd542d809f8e06b9d8f0e0f669903
      size: 1376
    outs:
    - path: artifacts/data_transformation/preprocessor.pkl
      hash: md5
      md5: cb1768646137506395b70e29b3c06f75
      size: 3733
    - path: artifacts/data_transformation/test.csv
      hash: md5
      md5: d7bbf8b693f33c039d40de16718009ba
      size: 32965
    - path: artifacts/data_transformation/train.csv
      hash: md5
      md5: b68b0f6105a546693c0df08bca48c3a1
      size: 151180
    - path: artifacts/data_transformation/val.csv
      hash: md5
      md5: 68785a258a5e97e45055a29a2df7a9f3
      size: 32453
  data_validation:
    cmd: python src/pipeline/stage_02_data_validation.py
    deps:
    - path: artifacts/data_ingestion/train.csv
      hash: md5
      md5: c0066d1f6daabba01786d9a5a89fd501
      size: 149869
    - path: config/config.yaml
      hash: md5
      md5: e149f5d1c5a3d871065093dc62b1d0b7
      size: 1450
    - path: config/schema.yaml
      hash: md5
      md5: f72d47385232fd6ec2fa314d1ec32c3f
      size: 627
    - path: src/pipeline/stage_02_data_validation.py
      hash: md5
      md5: 35edf1c839493f5d52b162f65dbb7013
      size: 1270
    outs:
    - path: artifacts/data_validation/status.txt
      hash: md5
      md5: 86e6a2f694c57a675b3e2da6b95ff9ba
      size: 23
  model_trainer:
    cmd: python src/pipeline/stage_04_model_trainer.py
    deps:
    - path: artifacts/data_transformation/train.csv
      hash: md5
      md5: b68b0f6105a546693c0df08bca48c3a1
      size: 151180
    - path: artifacts/data_transformation/val.csv
      hash: md5
      md5: 68785a258a5e97e45055a29a2df7a9f3
      size: 32453
    - path: config/config.yaml
      hash: md5
      md5: e149f5d1c5a3d871065093dc62b1d0b7
      size: 1450
    - path: src/components/model_trainer.py
      hash: md5
      md5: 05b61c8c7fe808c5bf70b59eb10307f3
      size: 2032
    - path: src/pipeline/stage_04_model_trainer.py
      hash: md5
      md5: 9ae9895ae51374fee19c4c8ba3cfb378
      size: 1165
    params:
      config/params.yaml:
        data_split.random_state: 42
        model_params.class_weight: balanced
        model_params.min_samples_leaf: 5
        model_params.n_estimators: 300
        model_params.n_jobs: -1
    outs:
    - path: artifacts/model_trainer/acras_rf_model.joblib
      hash: md5
      md5: 896e1218bdd6ce8acd4181775db1c134
      size: 274809
  model_evaluation:
    cmd: python src/pipeline/stage_05_model_evaluation.py
    deps:
    - path: artifacts/data_transformation/test.csv
      hash: md5
      md5: d7bbf8b693f33c039d40de16718009ba
      size: 32965
    - path: artifacts/model_trainer/acras_rf_model.joblib
      hash: md5
      md5: 896e1218bdd6ce8acd4181775db1c134
      size: 274809
    - path: config/config.yaml
      hash: md5
      md5: e149f5d1c5a3d871065093dc62b1d0b7
      size: 1450
    - path: src/components/model_evaluation.py
      hash: md5
      md5: 20b05e4e5f8fd17810a86e18526498db
      size: 8583
    - path: src/pipeline/stage_05_model_evaluation.py
      hash: md5
      md5: b92769d4a6d6d21a1604302eaea1042b
      size: 1484
    params:
      config/params.yaml:
        data_split.random_state: 42
        model_params.class_weight: balanced
        model_params.min_samples_leaf: 5
        model_params.n_estimators: 300
        model_params.n_jobs: -1
    outs:
    - path: artifacts/model_evaluation/metrics.json
      hash: md5
      md5: 13490a93569b016c4fb419b46e217704
      size: 158
  model_registration:
    cmd: python src/pipeline/stage_06_model_registration.py
    deps:
    - path: artifacts/model_evaluation/metrics.json
      hash: md5
      md5: 13490a93569b016c4fb419b46e217704
      size: 158
    - path: artifacts/model_trainer/acras_rf_model.joblib
      hash: md5
      md5: 896e1218bdd6ce8acd4181775db1c134
      size: 274809
    - path: config/config.yaml
      hash: md5
      md5: e149f5d1c5a3d871065093dc62b1d0b7
      size: 1450
    - path: src/components/model_registration.py
      hash: md5
      md5: eae919528db95c2eb4cbd3ecd28d51f9
      size: 3213
    - path: src/pipeline/stage_06_model_registration.py
      hash: md5
      md5: 74ae1c791556dc5e4ce49aef67b844dd
      size: 1287
  data_augmentation:
    cmd: python src/tools/synthetic_data_generator.py
    deps:
    - path: data/raw/financial_statements_training.csv
      hash: md5
      md5: 34a5ddff5dac93845498cc83717b25d3
      size: 260178
    - path: data/raw/financial_statements_validation.csv
      hash: md5
      md5: d65c1e34ea6291df1ce6d313a987d2ed
      size: 29214
    - path: data/raw/pd_training.csv
      hash: md5
      md5: 50848ef02f0f44545e8f97011cceb8bd
      size: 317578
    - path: data/raw/pd_validation.csv
      hash: md5
      md5: cadbbfea9e5cd149d416a806e50a3de3
      size: 36633
    - path: src/tools/synthetic_data_generator.py
      hash: md5
      md5: 558d91c2192305c784e83041d0e49233
      size: 5307
    outs:
    - path: data/processed/financial_statements_training.csv
      hash: md5
      md5: 415fce2361a31d2f4a8ecd81d592e9a1
      size: 269761
    - path: data/processed/financial_statements_validation.csv
      hash: md5
      md5: d03cb4fb5ebf4de8f2206fc7391ffffc
      size: 29038
    - path: data/processed/pd_training.csv
      hash: md5
      md5: 641dd6c2b74d992be4fee1f4599498cf
      size: 324270
    - path: data/processed/pd_validation.csv
      hash: md5
      md5: 02864ae4229b528ee54b2cc762dfd5cb
      size: 35473
